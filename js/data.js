// =====================
// BOARDS
// =====================
const boards = [
  {id:"arrivals", name:"Я здесь впервые", desc:"первые провалы"},
  {id:"routes", name:"Пути и уровни", desc:"маршруты без возврата"},
  {id:"signals", name:"Сигналы", desc:"отклики из глубины"},
  {id:"lost", name:"Пропавшие", desc:"последние следы"},
  {id:"warnings", name:"Предупреждения", desc:"прочитай, если успеешь"},
  {id:"off", name:"Off-topic", desc:"здесь не должно быть сообщений"}
];

// =====================
// USERS
// =====================
const users = {
  alice:{status:"не зафиксирован", bio:"последний ответ получен слишком поздно"},
  system:{status:"архив", bio:"автоматическая запись"},
  unknown:{status:"?", bio:"данные повреждены"},
  wanderer_17:{status:"оффлайн", bio:"остался дольше, чем планировал"},
  nullpath:{status:"—", bio:"маршрут не подтверждён"},
  echo_04:{status:"оффлайн", bio:"отвечает не всегда"}
};

// =====================
// КОМБИНАТОРНЫЕ ФРАГМЕНТЫ
// (10×10×10×10×5 = 5000+)
// =====================
const who = [
  "я","мы","кто-то","один из нас","этот аккаунт",
  "пользователь","наблюдатель","гость","неизвестный","кто-то здесь"
];

const action = [
  "нашёл","увидел","открыл","перешёл","проверил",
  "потерял","закрыл","обновил","вернулся к","попробовал"
];

const object = [
  "старую ссылку","этот форум","переход без названия",
  "уровень без описания","раздел, которого не было",
  "сообщение без автора","ответ без вопроса",
  "тему без даты","путь назад","чужую сессию"
];

const effect = [
  "и меня вернуло сюда",
  "и всё повторилось",
  "и время сбилось",
  "и интерфейс изменился",
  "и ответ пришёл позже",
  "и выход пропал",
  "и кто-то ответил",
  "и я уже был здесь",
  "и появилось эхо",
  "и система зависла"
];

const tail = [
  "",
  " снова",
  " во второй раз",
  " ночью",
  " и это было ошибкой"
];

// =====================
// ПУГАЮЩИЕ СООБЩЕНИЯ
// =====================
const scary = [
  "ты здесь уже был",
  "мы тебя видим",
  "не обновляй страницу сейчас",
  "это сообщение адресовано тебе",
  "ты читаешь это слишком долго",
  "ALICE активна",
  "соединение не завершено",
  "форум следит",
  "ты не гость",
  "ты не один"
];

// =====================
// UTILS
// =====================
function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
function randTime(){
  return rand(["??:??","ночью","архив","неизвестно","03:17","—"]);
}
function randUser(){
  return rand(Object.keys(users));
}

// =====================
// ГЕНЕРАЦИЯ УНИКАЛЬНЫХ ПОСТОВ
// =====================
function generateUniquePosts(count){
  const used = new Set();
  const posts = [];

  while(posts.length < count){
    const isScary = Math.random() < 0.04;

    const text = isScary
      ? rand(scary)
      : `${rand(who)} ${rand(action)} ${rand(object)} ${rand(effect)}${rand(tail)}`;

    if(used.has(text)) continue;
    used.add(text);

    posts.push({
      user: isScary ? "system" : randUser(),
      time: randTime(),
      text
    });
  }
  return posts;
}

// =====================
// THREADS (2000 УНИКАЛЬНЫХ)
// =====================
const threads = {
  arrivals: generateUniquePosts(350),
  routes: generateUniquePosts(350),
  signals: generateUniquePosts(350),
  lost: generateUniquePosts(320),
  warnings: generateUniquePosts(320),
  off: generateUniquePosts(310)
};

// === ИТОГО: 2000+ УНИКАЛЬНЫХ СООБЩЕНИЙ ===
